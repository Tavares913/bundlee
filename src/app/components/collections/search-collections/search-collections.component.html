<div [ngStyle]="{ boxSizing: 'border-box', padding: theme.spacing['2'] }">
  <mat-form-field [ngStyle]="{ width: '100%' }">
    <mat-label>Search</mat-label>
    <input
      matInput
      placeholder="..."
      [(ngModel)]="search"
      name="search"
      (keyup.enter)="searchCollection({ refresh: true })"
    />
    <mat-icon matSuffix (click)="searchCollection({ refresh: true })"
      >search</mat-icon
    >
  </mat-form-field>
  <div
    [ngStyle]="{ display: 'flex', justifyContent: 'center' }"
    *ngIf="loading"
  >
    <app-loading-spinner></app-loading-spinner>
  </div>
  <div
    *ngIf="!searched"
    [ngStyle]="{
      display: 'flex',
      justifyContent: 'center',
      marginBottom: theme.spacing['2']
    }"
  >
    Search through collections other people have made here!
  </div>
  <div
    *ngIf="searched && searchedCollections.length === 0"
    [ngStyle]="{
      display: 'flex',
      justifyContent: 'center',
      marginTop: theme.spacing['5']
    }"
  >
    No results found.
  </div>
  <div *ngIf="searchedCollections.length > 0">
    <table
      mat-table
      [dataSource]="searchedCollections"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td
          mat-cell
          *matCellDef="let collection"
          (click)="openCollectionDialog(collection)"
        >
          {{ collection.name }}
        </td>
      </ng-container>
      <ng-container matColumnDef="individuals">
        <th mat-header-cell *matHeaderCellDef>Individuals</th>
        <td
          mat-cell
          *matCellDef="let collection"
          (click)="openCollectionDialog(collection)"
        >
          {{ util.listIndividuals(collection) }}
        </td>
      </ng-container>
      <ng-container matColumnDef="user">
        <th mat-header-cell *matHeaderCellDef>User</th>
        <td
          mat-cell
          *matCellDef="let collection"
          (click)="openCollectionDialog(collection)"
        >
          {{ collection.user.username }}
        </td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="searchedCollectionsTableColumns"
      ></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: searchedCollectionsTableColumns"
      ></tr>
    </table>
  </div>
</div>
